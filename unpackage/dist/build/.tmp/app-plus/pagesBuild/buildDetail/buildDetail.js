(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pagesBuild/buildDetail/buildDetail"],{"0256":function(i,t,o){"use strict";var e,l=function(){var i=this,t=i.$createElement,o=(i._self._c,i.__map(i.layoutLists,function(t,o){var e=i.setLayout(t.rooms,t.halls,t.weis,t.yangs);return{$orig:i.__get_orig(t),m0:e}}));i.$mp.data=Object.assign({},{$root:{l0:o}})},n=[];o.d(t,"b",function(){return l}),o.d(t,"c",function(){return n}),o.d(t,"a",function(){return e})},"09ec":function(i,t,o){"use strict";o.r(t);var e=o("0256"),l=o("a72e");for(var n in l)"default"!==n&&function(i){o.d(t,i,function(){return l[i]})}(n);o("f6e3"),o("5aa3");var u,a=o("f0c5"),r=Object(a["a"])(l["default"],e["b"],e["c"],!1,null,"627bec94",null,!1,e["a"],u);t["default"]=r.exports},"0c31":function(i,t,o){"use strict";(function(i){o("3ea8"),o("921b");e(o("66fd"));var t=e(o("09ec"));function e(i){return i&&i.__esModule?i:{default:i}}i(t.default)}).call(this,o("6e42")["createPage"])},"3a48":function(i,t,o){},"5aa3":function(i,t,o){"use strict";var e=o("b567"),l=o.n(e);l.a},a72e:function(i,t,o){"use strict";o.r(t);var e=o("e142"),l=o.n(e);for(var n in e)"default"!==n&&function(i){o.d(t,i,function(){return e[i]})}(n);t["default"]=l.a},b567:function(i,t,o){},e142:function(i,t,o){"use strict";(function(i,e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=o("71c1"),n=o("5962"),u=o("a538"),a=o("b0ea"),r=o("2b2e"),s=o("4464");function c(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}function d(i,t,o){return t in i?Object.defineProperty(i,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[t]=o,i}var p=function(){return o.e("components/houseDetail/houseSwiper").then(o.bind(null,"3549"))},m=function i(){c(this,i)};d(m,"saveScrollTop",0),d(m,"scrollHeight",0);var h={data:function(){return{accountSource:null,buildId:"",swiperList:[],information:{averagePrice:null,buildName:"",buildAddr:"",reportCount:null,bandCount:null,subscription:null},isShowBox:!1,selectBoxValue:"",selectBoxList:[{name:"合作规则",value:"hzgz"},{name:"分销户型",value:"fxhx"},{name:"拓客技巧",value:"tkjq"},{name:"楼盘卖点",value:"lpmd"},{name:"楼盘动态",value:"lpdt"}],cooperationRule:{},commisonRule:{},distributionRule:{},layoutLists:[],buildTypeObj:u.Const.buildTypeObj,extensionTechnique:{},buildSellingPoint:{},isShowDynamic:!1,buildDynamic:{},scrollTopObj:{hzgz:{num:0,compareNum:0},fxhx:{num:0,compareNum:0},tkjq:{num:0,compareNum:0},lpmd:{num:0,compareNum:0},lpdt:{num:0,compareNum:0}},scrollTop:{num:0,height:0,max:0,isFirst:!0},viewTimeScroll:null}},components:{houseSwiper:p},onLoad:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.buildId=i.buildId,this.initData(),(new r.Notification).addObserver(this,"updateData",a.Notify.CreateActivityChange.Name),(new r.Notification).addObserver(this,"updateData",a.Notify.PhotoChange.Name),(new r.Notification).addObserver(this,"updateData",a.Notify.DistributionChange.Name),(new r.Notification).addObserver(this,"updateData",a.Notify.DistributionDelChange.Name),(new r.Notification).addObserver(this,"updateData",a.Notify.RuleChange.Name)},onShow:function(){this.accountSource=n.GetLoginModel.getAccountSource()},methods:{getNodeInfo:function(){var t=this,o=i.createSelectorQuery().in(this);o.select("#hzgz").boundingClientRect(function(i){t.scrollTopObj["hzgz"].compareNum=i.top-50,t.scrollTopObj["hzgz"].num=i.top-50}).select("#fxhx").boundingClientRect(function(i){t.scrollTopObj["fxhx"].compareNum=i.top-50,t.scrollTopObj["fxhx"].num=i.top-50}).select("#tkjq").boundingClientRect(function(i){t.scrollTopObj["tkjq"].compareNum=i.top-50,t.scrollTopObj["tkjq"].num=i.top-50}).select("#lpmd").boundingClientRect(function(i){t.scrollTopObj["lpmd"].compareNum=i.top-50,t.scrollTopObj["lpmd"].num=i.top-50}).select("#lpdt").boundingClientRect(function(i){t.scrollTopObj["lpdt"].compareNum=i.top-50,t.scrollTopObj["lpdt"].num=i.top-50}).select("#scrollView").fields({scrollOffset:!0,size:!0},function(i){for(var o in t.scrollTop.max=m.scrollHeight-i.height,t.scrollTopObj)t.scrollTopObj[o].num>t.scrollTop.max&&(t.scrollTopObj[o].num=t.scrollTop.max)}).exec()},updateData:function(){this.initData()},initData:function(){var t=this;new l.GetNewBuildDetail({buildId:this.buildId}).send().then(function(o){if(console.log(e(o," at pagesBuild\\buildDetail\\buildDetail.vue:356")),o.errCode===u.Const.success){var l=o.data;i.setNavigationBarTitle({title:l.buildName});var n=[],a=l.vrList||[],r=l.photoList||[],s=!0,c=!1,d=void 0;try{for(var p,m=a[Symbol.iterator]();!(s=(p=m.next()).done);s=!0){var h=p.value;n.push({url:h.photoAddr,type:"vr",sourceUrl:h.panoramaPlayUrl})}}catch(I){c=!0,d=I}finally{try{s||null==m.return||m.return()}finally{if(c)throw d}}var b=!0,f=!1,g=void 0;try{for(var v,T=r[Symbol.iterator]();!(b=(v=T.next()).done);b=!0){var y=v.value;n.push({url:y,type:"img",sourceUrl:y})}}catch(I){f=!0,g=I}finally{try{b||null==T.return||T.return()}finally{if(f)throw g}}t.swiperList=n,t.information.averagePrice=l.averagePrice||"",t.information.buildName=l.buildName||"",t.information.buildAddr=l.buildAddr||"",t.information.reportCount=l.reportCount||"",t.information.bandCount=l.bandCount||"",t.information.subscription=l.subscription||"",t.cooperationRule.cooperationTime=l.distributionRule.cooperationTime||"",t.cooperationRule.exclusiveDiscount=l.exclusiveDiscount||"",t.cooperationRule.groupPurchaseDiscount=l.groupPurchaseDiscount||"",t.commisonRule=l.commisonRule||{},t.distributionRule=l.distributionRule||{};var x=l.layoutLists||[],D=!0,N=!1,w=void 0;try{for(var j,O=x[Symbol.iterator]();!(D=(j=O.next()).done);D=!0){var S=j.value;S.tagIds?(S.tagIdsShow=S.tagIds.split("|"),S.tagIdsShow.length>2&&(S.tagIdsShow=S.tagIdsShow.splice(0,2))):S.tagIdsShow=[]}}catch(I){N=!0,w=I}finally{try{D||null==O.return||O.return()}finally{if(N)throw w}}x.length>3?t.layoutLists=x.splice(0,3):t.layoutLists=x||[],t.extensionTechnique=l.extensionTechnique||{},t.buildSellingPoint=l.buildSellingPoint||{},t.isShowDynamic=!1,t.buildDynamic=l.buildDynamic||{},l.buildDynamic&&(t.isShowDynamic=!0),t.$nextTick(function(){t.scrollTop.num=1})}else t.DifferenceApi.showToast(o.errMsg)})},viewPagesScroll:function(i){var t=i.detail.scrollTop;if(this.scrollTop.isFirst)return m.scrollHeight=i.detail.scrollHeight,this.getNodeInfo(),void(this.scrollTop.isFirst=!1);m.saveScrollTop=t,this.scrollTop.max!==t&&(t<this.scrollTopObj["hzgz"].compareNum&&(this.isShowBox=!1),t>=this.scrollTopObj["hzgz"].compareNum&&t<this.scrollTopObj["fxhx"].compareNum&&(this.selectBoxValue="hzgz",this.isShowBox=!0),t>=this.scrollTopObj["fxhx"].compareNum&&t<this.scrollTopObj["tkjq"].compareNum&&(this.selectBoxValue="fxhx",this.isShowBox=!0),t>=this.scrollTopObj["tkjq"].compareNum&&t<this.scrollTopObj["lpmd"].compareNum&&(this.selectBoxValue="tkjq",this.isShowBox=!0),t>=this.scrollTopObj["lpmd"].compareNum&&t<this.scrollTopObj["lpdt"].compareNum&&(this.selectBoxValue="lpmd",this.isShowBox=!0),t>=this.scrollTopObj["lpdt"].compareNum&&(this.selectBoxValue="lpdt",this.isShowBox=!0))},goToInformation:function(){i.navigateTo({url:"/pagesBuild/buildDetail/information?buildId="+this.buildId})},changeSelectBox:function(i){var t=this;clearTimeout(this.viewTimeScroll),this.scrollTop.num!==m.saveScrollTop&&(this.scrollTop.num=m.saveScrollTop),this.selectBoxValue=i,this.viewTimeScroll=setTimeout(function(){0!==t.scrollTopObj[i].num&&(t.scrollTopObj[i].num<t.scrollTop.max?t.scrollTop.num=t.scrollTopObj[i].num:t.scrollTop.num=t.scrollTop.max)},100)},goToDistributionType:function(){i.navigateTo({url:"/pagesBuild/buildDetail/distributionType?buildId="+this.buildId})},setLayout:function(i,t,o,e){var l=i?i+"室":"",n=t?t+"厅":"",u=o?o+"卫":"",a=e?e+"阳台":"";return l+n+u+a},goToDistributionDynamic:function(){i.navigateTo({url:"/pagesBuild/buildDetail/distributionDynamic?buildId="+this.buildId})},goToSkillPointDetail:function(t){i.navigateTo({url:"/pagesBuild/buildDetail/skillPointList?type="+t+"&buildId="+this.buildId})},postBtn:function(){i.navigateTo({url:"/pagesBuild/buildDetail/releaseTheStory?buildId="+this.buildId})},goToLookOrEditHYZ:function(t){if(1===this.accountSource){if("hzgz"===t)return;var o={cooperationRule:this.cooperationRule||{},commisonRule:this.commisonRule||{},distributionRule:this.distributionRule||{}};(new s.buildModel).setModel(o,"savepageRulesData"),i.navigateTo({url:"/pagesBuild/buildDetail/pageRules?buildId="+this.buildId})}else"hzgz"===t&&i.navigateTo({url:"/pagesBuild/buildDetail/rulesCooperationEdit?buildId="+this.buildId}),"yjgz"===t&&i.navigateTo({url:"/pagesBuild/buildDetail/commissionRuleEdit?buildId="+this.buildId}),"zysx"===t&&i.navigateTo({url:"/pagesBuild/buildDetail/precautionEdit?buildId="+this.buildId})},errorImg:function(){this.buildDynamic.photoUrl="http://cdn.haofang.net/static/xfldDeveloper/build/default-house-img.png"}},onUnload:function(){(new r.Notification).removeObserverAllNotification(this)}};t.default=h}).call(this,o("6e42")["default"],o("0de9")["default"])},f6e3:function(i,t,o){"use strict";var e=o("3a48"),l=o.n(e);l.a}},[["0c31","common/runtime","common/vendor"]]]);