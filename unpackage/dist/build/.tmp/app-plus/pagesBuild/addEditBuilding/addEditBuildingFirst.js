(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pagesBuild/addEditBuilding/addEditBuildingFirst"],{"36c4":function(e,t,i){"use strict";i.r(t);var a=i("76e7"),s=i.n(a);for(var n in a)"default"!==n&&function(e){i.d(t,e,function(){return a[e]})}(n);t["default"]=s.a},5555:function(e,t,i){"use strict";var a,s=function(){var e=this,t=e.$createElement;e._self._c},n=[];i.d(t,"b",function(){return s}),i.d(t,"c",function(){return n}),i.d(t,"a",function(){return a})},"5cd4":function(e,t,i){"use strict";var a=i("eafd"),s=i.n(a);s.a},"76e7":function(e,t,i){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=i("1139"),n=i("5969"),r=i("4464"),u=i("71c1"),l=i("a538"),d={data:function(){return{type:"",allParamsObj:{},paramsObj:{buildId:"",district:null,area:null,buildingName:"",propertyType:"",buildingAddr:"",salesAddr:"",buildingType:"",propertyCompany:"",distributionType:null,erpTelephone:"",uuTelephone:""},wuYeTypeList:[{value:"住宅"},{value:"别墅"},{value:"公寓"},{value:"商铺"},{value:"写字楼"},{value:"厂房"},{value:"仓库"},{value:"车库"},{value:"其他"}],wuYeIndex:null,regList:[],regIndex:null,regName:"",sectionList:[],sectionIndex:null,sectionName:"",sectionDisabled:"",buildingTypeList:l.Const.houseTypeList,buildingIndex:null,selectBuildingTypeList:[],houseTypeObj:{},fxTypeList:[{value:"城市楼盘",id:0},{value:"旅游地产",id:1}],fxIndex:null,fxName:""}},onLoad:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.type=t.type,this.getHouseTypeObj(),"add"===t.type?(e.setNavigationBarTitle({title:"添加楼盘"}),this.getRegList()):(e.setNavigationBarTitle({title:"编辑楼盘"}),this.getBuildDetail(t.buildId))},methods:{getBuildDetail:function(e){var t=this;new u.GetBuildingInfo({buildId:e}).send().then(function(e){if(e.errCode!==l.Const.success)t.DifferenceApi.showToast(e.errMsg);else{var i=e.data||{};if(!i)return;for(var a in t.allParamsObj=i,t.paramsObj)t.paramsObj[a]=i[a]||"";t.getRegList(!0),i.area?t.getSectionList(i.district,!0):t.getSectionList(i.district),t.wuYeTypeList.forEach(function(e,a){i.propertyType===e.value&&(t.wuYeIndex=a)});var s=t.paramsObj.buildingType?t.paramsObj.buildingType.split(","):[];t.selectBuildingTypeList=[];var n=!0,r=!1,u=void 0;try{for(var d,o=s[Symbol.iterator]();!(n=(d=o.next()).done);n=!0){var c=d.value;isNaN(c)&&t.selectBuildingTypeList.push(c)}}catch(g){r=!0,u=g}finally{try{n||null==o.return||o.return()}finally{if(r)throw u}}t.fxTypeList.forEach(function(e,a){i.distributionType===e.id&&(t.fxName=e.value)})}})},wuYeChangePicker:function(e){this.wuYeIndex=e.target.value,this.paramsObj.propertyType=this.wuYeTypeList[e.target.value].value},regChangePicker:function(e){this.regIndex=e.target.value;var t=this.regList[e.target.value].regId;this.regName=this.regList[e.target.value].regName,this.paramsObj.district=t,this.getSectionList(t)},getRegList:function(e){var t=this,i=s.GetBaseInfoModel.regList()||[],r=[],u=!0,l=!1,d=void 0;try{for(var o,c=i[Symbol.iterator]();!(u=(o=c.next()).done);u=!0){var g=o.value;g.regName&&(g.value=g.regName,r.push(g))}}catch(f){l=!0,d=f}finally{try{u||null==c.return||c.return()}finally{if(l)throw d}}r=r.sort(new n.compare("seqNo").minToMax()),this.regList=r,console.log(a("regList",this.regList," at pagesBuild\\addEditBuilding\\addEditBuildingFirst.vue:285")),e&&this.regList.forEach(function(e,i){t.paramsObj.district===e.regId&&(console.log(a("2342424242",e," at pagesBuild\\addEditBuilding\\addEditBuildingFirst.vue:289")),t.regIndex=i,t.regName=e.regName)})},getSectionList:function(e,t){var i=this;this.sectionName="",this.sectionIndex="";var n=[],r=!0,u=!1,l=void 0;try{for(var d,o=(s.GetBaseInfoModel.sectionList(e||"")||[])[Symbol.iterator]();!(r=(d=o.next()).done);r=!0){var c=d.value;c.sectionName&&(c.value=c.sectionName,n.push(c))}}catch(g){u=!0,l=g}finally{try{r||null==o.return||o.return()}finally{if(u)throw l}}this.sectionList=n||[],this.sectionDisabled=0===this.sectionList.length,console.log(a("sectionList",this.sectionList,this.sectionList.length," at pagesBuild\\addEditBuilding\\addEditBuildingFirst.vue:309")),t&&this.sectionList.forEach(function(e,t){Number(i.paramsObj.area)===Number(e.sectionId)&&(i.sectionIndex=t,i.sectionName=e.sectionName)})},sectionChangePicker:function(e){this.sectionIndex=e.target.value,this.sectionName=this.sectionList[e.target.value].sectionName;var t=this.sectionList[e.target.value].sectionId;this.paramsObj.area=t},getHouseTypeObj:function(){var e=l.Const.houseTypeList||[],t=!0,i=!1,s=void 0;try{for(var n,r=e[Symbol.iterator]();!(t=(n=r.next()).done);t=!0){var u=n.value;this.houseTypeObj[u.value]=u.text}}catch(d){i=!0,s=d}finally{try{t||null==r.return||r.return()}finally{if(i)throw s}}console.log(a(this.houseTypeObj,"houseTypeObj"," at pagesBuild\\addEditBuilding\\addEditBuildingFirst.vue:332"))},buildingTypeChangePicker:function(e){this.buildingIndex=e.target.value;var t=this.buildingTypeList[e.target.value].value;this.selectBuildingTypeList.indexOf(t)>-1||this.selectBuildingTypeList.push(t)},deletBuildingType:function(e){this.selectBuildingTypeList.splice(e,1)},fxTypeChangePicker:function(e){this.fxIndex=e.target.value,this.fxName=this.fxTypeList[e.target.value].value,this.paramsObj.distributionType=this.fxTypeList[e.target.value].id},goToNext:function(){console.log(a(this.paramsObj,"paramsObj"," at pagesBuild\\addEditBuilding\\addEditBuildingFirst.vue:353")),this.regName?this.paramsObj.buildingName?this.paramsObj.propertyType?this.paramsObj.buildingAddr?0!==this.selectBuildingTypeList.length?this.fxName?(this.paramsObj.buildingType=this.selectBuildingTypeList.join(","),(new r.buildModel).setModel(this.paramsObj,"saveParamsFirst"),(new r.buildModel).setModel(this.allParamsObj,"saveParams"),e.navigateTo({url:"/pagesBuild/addEditBuilding/addEditBuildingSecond?type="+this.type})):this.DifferenceApi.showToast("请选择分销类型"):this.DifferenceApi.showToast("请选择建筑类型"):this.DifferenceApi.showToast("请输入楼盘地址"):this.DifferenceApi.showToast("请选择物业类型"):this.DifferenceApi.showToast("请输入楼盘名称"):this.DifferenceApi.showToast("请选择行政区")}}};t.default=d}).call(this,i("6e42")["default"],i("0de9")["default"])},a0c2:function(e,t,i){},a377:function(e,t,i){"use strict";i.r(t);var a=i("5555"),s=i("36c4");for(var n in s)"default"!==n&&function(e){i.d(t,e,function(){return s[e]})}(n);i("d454"),i("5cd4");var r,u=i("f0c5"),l=Object(u["a"])(s["default"],a["b"],a["c"],!1,null,"a1b3e188",null,!1,a["a"],r);t["default"]=l.exports},ad77:function(e,t,i){"use strict";(function(e){i("3ea8"),i("921b");a(i("66fd"));var t=a(i("a377"));function a(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,i("6e42")["createPage"])},d454:function(e,t,i){"use strict";var a=i("a0c2"),s=i.n(a);s.a},eafd:function(e,t,i){}},[["ad77","common/runtime","common/vendor"]]]);