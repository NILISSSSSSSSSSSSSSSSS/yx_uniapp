(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pagesSet/login/login"],{"00d8":function(e,n,t){"use strict";var o=function(){var e=this,n=e.$createElement;e._self._c},i=[];t.d(n,"a",function(){return o}),t.d(n,"b",function(){return i})},"176f":function(e,n,t){"use strict";t.r(n);var o=t("00d8"),i=t("1793");for(var s in i)"default"!==s&&function(e){t.d(n,e,function(){return i[e]})}(s);t("b590");var a=t("2877"),r=Object(a["a"])(i["default"],o["a"],o["b"],!1,null,null,null);n["default"]=r.exports},1793:function(e,n,t){"use strict";t.r(n);var o=t("f725"),i=t.n(o);for(var s in o)"default"!==s&&function(e){t.d(n,e,function(){return o[e]})}(s);n["default"]=i.a},"5b00":function(e,n,t){},"689f":function(e,n,t){"use strict";(function(e){t("d3e9"),t("921b");o(t("66fd"));var n=o(t("176f"));function o(e){return e&&e.__esModule?e:{default:e}}e(n.default)}).call(this,t("543d")["createPage"])},b590:function(e,n,t){"use strict";var o=t("5b00"),i=t.n(o);i.a},f725:function(e,n,t){"use strict";(function(e){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=t("8c03"),i=t("a0ec"),s=t("68bf"),a=(t("80a0"),t("6594")),r=t("cb99"),u=t("0513"),f=t("983c"),c=t("03a1");function d(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function l(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var g=function e(){d(this,e)};l(g,"isRequesting",!1);var h={data:function(){return{adjustPosition:!1,keywordImgMap:{1:{src:"http://cdn.haofang.net/static/xfyx-uniapp/tool/show_key.png",className:"show_key"},2:{src:"http://cdn.haofang.net/static/xfyx-uniapp/tool/hide_key.png",className:"hide_key"}},keywordType:2,requestInfo:{tel:"",password:"",autoLogin:!1},openId:""}},onLoad:function(){a.GetLoginModel.getTelephone()&&(this.requestInfo.tel=a.GetLoginModel.getTelephone())},onHide:function(){c.RequestTimeOut.isInLoginPage=!1},onUnload:function(){c.RequestTimeOut.isInLoginPage=!1},methods:{changePasswordType:function(){this.keywordType=2===this.keywordType?1:2},removeTel:function(){this.requestInfo.tel=""},telInput:function(e){this.requestInfo.tel=e.detail.value},passwordInput:function(e){this.requestInfo.password=e.detail.value},forgetPassword:function(){e.navigateTo({url:"/pagesSet/forgetPassword/forgetPassword"})},checkLogin:function(){return this.requestInfo.tel?/^1[23456789]\d{9}$/.test(this.requestInfo.tel)?!!this.requestInfo.password||(this.DifferenceApi.showToast("请输入密码！"),!1):(this.DifferenceApi.showToast("电话号码格式不正确！"),!1):(this.DifferenceApi.showToast("请输入电话号码！"),!1)},loginBtn:function(){var n=this;this.checkLogin()&&(e.showLoading({title:"登录中...",mask:o.Config.mask}),(new a.ConsultantListModel).setModel({}),(new s.LoginApp).send(this.requestInfo.tel,this.requestInfo.password,this.requestInfo.autoLogin).then(function(t){if(t.errCode!==i.Const.success)return Promise.reject(t);var o=(new u.GpsInfoModel).getModel("cityInfo")||{};new r.UpdateUserWxOpenId({cityId:o.cityId||"1",userId:a.GetLoginModel.getUserId(),wxId:n.openId}).send(),g.isRequesting=!1,e.hideLoading(),e.reLaunch({url:(new s.LoginApp).getEnterPage()})}).catch(function(t){g.isRequesting=!1,e.hideLoading(),setTimeout(function(){n.DifferenceApi.showToast(t.errMsg||"登录失败")},500)}))},upMyData:function(n){var t=this;this.checkLogin()&&n&&n.detail&&(g.isRequesting||(g.isRequesting=!0,e.showLoading({title:"登录中...",mask:o.Config.mask}),(new s.DealUserInfoFromLogin).init().then(function(e){t.openId=e.openid||e.openId||"",(new f.UserInfoModel).setModel(t.openId,"openId"),t.loginBtn()}).catch(function(n){e.hideLoading(),g.isRequesting=!1,t.DifferenceApi.showToast(n.errMsg||"登录失败")})))}}};n.default=h}).call(this,t("543d")["default"])}},[["689f","common/runtime","common/vendor"]]]);