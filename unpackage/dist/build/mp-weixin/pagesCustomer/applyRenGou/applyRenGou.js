(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pagesCustomer/applyRenGou/applyRenGou"],{1293:function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i("8c03"),o=i("a0ec"),s=i("22d5"),u=i("3d98"),a=i("6594"),c={},h={data:function(){return{cityId:"",custId:"",houseNo:"",houseArea:"",dealAmount:"",commission:"",custStatus:"",directCustomer:0,huXinTypeList:null,huXinIndex:"",checkHuXin:"",layoutNo:""}},onLoad:function(t){c=t,console.log(t,"--applyRenGou接收页面参数--")},onShow:function(){this.iniData(),this.cityId=c.cityId||"",this.custId=c.custId||"",this.houseNo=c.houseNo||"",this.dealAmount=c.dealAmount||"",this.houseArea=c.houseArea||"",this.commission=c.commission||"",this.custStatus=c.custStatus||"",this.directCustomer=c.directCustomer||"",this.checkHuXin=c.layoutNo||""},methods:{inputHouseNo:function(t){this.houseNo=t.detail.value},inputHouseArea:function(t){this.houseArea=t.detail.value},inputDealAmount:function(t){this.dealAmount=t.detail.value},inputCommission:function(t){this.commission=t.detail.value},confirmBtn:function(){var e=this;this.huXinTypeList&&0===this.huXinTypeList.length?this.DifferenceApi.showToast("请先添加户型"):this.huXinIndex?this.houseNo?this.houseArea?this.dealAmount?this.commission||0!=this.directCustomer?(t.showLoading({title:"请求中...",mask:n.Config.mask}),new s.RequestOrConfirmBuy({cityId:this.cityId,custId:this.custId,custStatus:this.custStatus,houseNo:this.houseNo,houseArea:this.houseArea,dealAmount:this.dealAmount,commission:this.commission,layoutNo:this.checkHuXin}).send().then(function(i){if(t.hideLoading(),i.errCode!==o.Const.success)return Promise.reject(i);e.DifferenceApi.showToast("申请认购成功"),setTimeout(function(){t.navigateBack({delta:1})},1e3)}).catch(function(i){t.hideLoading(),e.DifferenceApi.showToast(i.errMsg||"请求失败")})):this.DifferenceApi.showToast("请输入预计结佣金额"):this.DifferenceApi.showToast("请输入成交金额"):this.DifferenceApi.showToast("请输入产权面积"):this.DifferenceApi.showToast("请输入房号"):this.DifferenceApi.showToast("请选择户型")},iniData:function(){var t=this,e=a.GetLoginModel.getBuildId();new u.GetBuildLayouts({buildId:e}).send().then(function(e){if(e.errCode!==o.Const.success)return Promise.reject(e);if(e.data&&e.data.layoutNo&&0===e.data.layoutNo.length)t.huXinTypeList=[];else{var i=[],n=!0,s=!1,u=void 0;try{for(var a,c=e.data.layoutNo[Symbol.iterator]();!(n=(a=c.next()).done);n=!0){var h=a.value;i.push({value:h})}}catch(f){s=!0,u=f}finally{try{n||null==c.return||c.return()}finally{if(s)throw u}}if(t.checkHuXin)for(var r in i)i[r].value==t.checkHuXin&&(t.huXinIndex=r);t.huXinTypeList=i}}).catch(function(e){t.DifferenceApi.showToast(e.errMsg||"服务器开小差了,请稍后再试")})},huXinChangePicker:function(t){this.huXinTypeList?(this.huXinIndex=t.target.value,this.checkHuXin=this.huXinTypeList[t.target.value].value):this.DifferenceApi.showToast("请先添加户型")},addLayout:function(){this.DifferenceApi.showToast("请先添加户型")}}};e.default=h}).call(this,i("543d")["default"])},2091:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement;t._self._c},o=[];i.d(e,"a",function(){return n}),i.d(e,"b",function(){return o})},"65ea":function(t,e,i){"use strict";var n=i("bc84"),o=i.n(n);o.a},"6b2e":function(t,e,i){"use strict";i.r(e);var n=i("1293"),o=i.n(n);for(var s in n)"default"!==s&&function(t){i.d(e,t,function(){return n[t]})}(s);e["default"]=o.a},"9f96":function(t,e,i){"use strict";i.r(e);var n=i("2091"),o=i("6b2e");for(var s in o)"default"!==s&&function(t){i.d(e,t,function(){return o[t]})}(s);i("65ea");var u=i("2877"),a=Object(u["a"])(o["default"],n["a"],n["b"],!1,null,null,null);e["default"]=a.exports},bc1e:function(t,e,i){"use strict";(function(t){i("d3e9"),i("921b");n(i("66fd"));var e=n(i("9f96"));function n(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,i("543d")["createPage"])},bc84:function(t,e,i){}},[["bc1e","common/runtime","common/vendor"]]]);