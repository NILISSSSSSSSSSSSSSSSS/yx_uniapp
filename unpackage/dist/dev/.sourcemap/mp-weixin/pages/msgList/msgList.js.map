{"version":3,"sources":["webpack:///D:/小黑项目/yx_uniapp/main.js","webpack:///D:/小黑项目/yx_uniapp/pages/msgList/msgList.vue?2521","webpack:///D:/小黑项目/yx_uniapp/pages/msgList/msgList.vue?bdfe","webpack:///D:/小黑项目/yx_uniapp/pages/msgList/msgList.vue?95c1","webpack:///D:/小黑项目/yx_uniapp/pages/msgList/msgList.vue?9277","webpack:///D:/小黑项目/yx_uniapp/pages/msgList/msgList.vue","webpack:///D:/小黑项目/yx_uniapp/pages/msgList/msgList.vue?c353","webpack:///D:/小黑项目/yx_uniapp/pages/msgList/msgList.vue?d92d"],"names":["createPage","Page","TouchMove","hideAll","yCha","Math","abs","endClientY","startClientY","xCha","endClientX","startClientX","hide","show","page","chartList","map","item","isShowBtn","i","index","$set","data","defaultHead","Const","imDefaultHeadImg","serviceId","ImChart","getServiceId","systemMsgItem","name","lastTime","msg","unRead","onShow","initSystemMsg","UpUnReadNumTab","setTab","initData","onLoad","Notification","addObserver","Notify","ImLinkSuccessChange","Name","UpChartListChanged","onUnload","removeObserverAllNotification","onNavigationBarButtonTap","e","id","uni","navigateTo","url","methods","goToCustomer","drawChartList","res","DealChartListModel","getMsgList","sort","compare","minToMax","isTopList","noTopList","length","msg_timestamp","accid","ProjectConfigConst","systemMsgMessageId","remindMsgMessageId","replace","chartItem","ChartListItem","messageId","headImg","icon","Utils","dealImgSrcSize","msg_type","body","sendtime","getUnReadNum","lastTime_stamp","Date","getTime","isShield","GetLoginModel","getAccountSource","toString","compName","indexOf","isTop","push","maxToMin","concat","setTimeout","imgError","touchStart","changedTouches","mp","clientX","clientY","touchEnd","init","blockMsg","delMsg","DeleteMsg","upTopStatus","getChartDetail","removeReadNum","imChartVal","getHistoryOriginal","then","console","log","msgs","content","JSON","parse","CONTENT","time","goToSystemDetail"],"mappings":"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","file":"pages/msgList/msgList.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'            \nimport Page from './pages/msgList/msgList.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./msgList.vue?vue&type=template&id=537c61c8&\"\nvar renderjs\nimport script from \"./msgList.vue?vue&type=script&lang=js&\"\nexport * from \"./msgList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./msgList.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../软件/老版本HBuilderX/工具/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\软件\\\\老版本HBuilderX\\\\工具\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('537c61c8')) {\n      api.createRecord('537c61c8', component.options)\n    } else {\n      api.reload('537c61c8', component.options)\n    }\n    module.hot.accept(\"./msgList.vue?vue&type=template&id=537c61c8&\", function () {\n      api.rerender('537c61c8', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"小黑项目/yx_uniapp/pages/msgList/msgList.vue\"\nexport default component.exports","export * from \"-!../../../../软件/老版本HBuilderX/工具/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../软件/老版本HBuilderX/工具/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../软件/老版本HBuilderX/工具/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../软件/老版本HBuilderX/工具/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../软件/老版本HBuilderX/工具/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../软件/老版本HBuilderX/工具/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./msgList.vue?vue&type=template&id=537c61c8&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../软件/老版本HBuilderX/工具/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../软件/老版本HBuilderX/工具/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../软件/老版本HBuilderX/工具/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../软件/老版本HBuilderX/工具/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../软件/老版本HBuilderX/工具/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./msgList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../软件/老版本HBuilderX/工具/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../软件/老版本HBuilderX/工具/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../软件/老版本HBuilderX/工具/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../软件/老版本HBuilderX/工具/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../软件/老版本HBuilderX/工具/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./msgList.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { formatTimeNew, compare } from \"../../utils/common.js\";\nimport { ChartListItem, UpUnReadNumTab } from \"../../utils/ImChart.js\";\nimport { Notify } from \"../../utils/Notify.js\";\nimport { Notification } from \"../../utils/Notification.js\";\nimport {DealChartListModel} from \"../../model/im/ChatListModel\";\nimport {Utils} from \"../../utils/Utils\";\nimport {Const} from \"../../utils/Const\";\nimport {ProjectConfigConst} from \"../../utils/ProjectConfigConst\";\nimport {GetLoginModel} from \"../../model/LoginSuccessModel\";\n\nclass TouchMove {\n    static startClientX = 0;\n    static startClientY = 0;\n    static endClientX = 0;\n    static endClientY = 0;\n    static page = null;  // vue 的作用域\n    static index = 0;  // 当前的index\n\n    static init() {\n        this.hideAll();\n        let yCha = Math.abs(this.endClientY - this.startClientY);\n        let xCha = Math.abs(this.endClientX - this.startClientX);\n        if(yCha >= xCha) {\n            this.hide();\n            return;\n        }\n\n        if(xCha <= 40) return;\n\n        if(this.endClientX - this.startClientX < 0) {\n            this.show();\n            return;\n        }\n\n        if(this.endClientX - this.startClientX > 0) {\n            this.hide();\n        }\n    }\n\n    static hideAll() {\n        this.page.chartList.map(item => {\n            item.isShowBtn = false;\n        });\n    }\n\n    static hide(i = this.index) {\n        if(!this.page.chartList) return;\n\n        let item = this.page.chartList[this.index] || {};\n        item.isShowBtn = false;\n        this.page.$set(this.page.chartList, this.index, item);\n    }\n\n    static show() {\n        if(!this.page.chartList) return;\n\n        let item = this.page.chartList[this.index] || {};\n        item.isShowBtn = true;\n        this.page.$set(this.page.chartList, this.index, item);\n    }\n}\n\nexport default {\n    data() {\n        return {\n            chartList: null,\n            defaultHead: Const.imDefaultHeadImg,\n            serviceId: this.ImChart.getServiceId(),\n            systemMsgItem: {\n                name: \"系统消息\",\n                lastTime: \"\",\n                msg: \"\",\n                unRead: 0\n            }\n        };\n    },\n\n    onShow() {\n        this.initSystemMsg();\n        UpUnReadNumTab.setTab();\n        this.initData();\n    },\n\n    onLoad() {\n        // 监听Im连接成功\n        new Notification().addObserver(this, \"ImLinkSuccessChange\", Notify.ImLinkSuccessChange.Name);\n        // 更新列表NC\n        new Notification().addObserver(this, \"UpChartListChanged\", Notify.UpChartListChanged.Name);\n    },\n\n    onUnload() {\n        // 反注册通知\n        new Notification().removeObserverAllNotification(this);\n    },\n\n    // 原生按钮点击事件\n    onNavigationBarButtonTap(e) {\n        if (!e.id) return;\n\n        if (e.id !== \"contract\") return;\n\n        uni.navigateTo({\n            url: \"/pagesMsg/contacts/contacts\"\n        });\n    },\n\n    methods: {\n        goToCustomer() {\n            uni.navigateTo({\n                url: \"/pagesMsg/contacts/contacts\"\n            });\n        },\n\n        initData() {\n            this.drawChartList();\n        },\n\n        // 渲染列表\n        drawChartList() {\n            let serviceId = this.ImChart.getServiceId();\n            let res = new DealChartListModel(serviceId).getMsgList();\n\n            let chartList = [];\n            res = res || [];\n            res = res.sort(new compare(\"msg_timestamp\").minToMax());\n            let isTopList = [];\n            let noTopList = [];\n            if (res.length > 0) {\n                res.map(item => {\n                    if(item.msg_timestamp\n                        && item.accid !== ProjectConfigConst.systemMsgMessageId\n                        && item.accid !== ProjectConfigConst.remindMsgMessageId) {\n                        item.msg_timestamp = item.msg_timestamp.replace(/-/g, \"/\");\n                        let chartItem = new ChartListItem();\n                        chartItem.messageId = item.accid || \"\";\n                        chartItem.headImg = item.icon\n                            ? item.icon\n                            : this.defaultHead;\n                        chartItem.headImg = new Utils().dealImgSrcSize(chartItem.headImg, 140, 140);\n                        chartItem.name = item.name || \"\";\n                        chartItem.lastTime = formatTimeNew(item.msg_timestamp);\n                        chartItem.msg = item.msg_type && item.msg_type === \"VIDEO\"\n                            ? \"[视频]\" :  item.body || \"\";\n                        chartItem.sendtime = formatTimeNew(item.msg_timestamp);\n                        chartItem.unRead = UpUnReadNumTab.getUnReadNum(item.accid);\n                        chartItem.lastTime_stamp = new Date(item.msg_timestamp).getTime();\n                        chartItem.isShield = item.isShield || \"\";\n                        chartItem.isShowBtn = false;\n                        if (GetLoginModel.getAccountSource() == 1) {\n                            chartItem.messageId = chartItem.messageId.toString();\n                            item.compName = chartItem.messageId.indexOf(\"ld_\") >= 0\n                                ? \"置业顾问\" : \"经纪人\";\n                        }\n                        chartItem.compName = item.compName || \"\";\n                        chartItem.isTop = item.isTop || 2;\n                        if(chartItem.isTop == 1) {\n                            isTopList.push(chartItem);\n                        }else {\n                            noTopList.push(chartItem);\n                        }\n                    }\n                });\n            }\n            if(isTopList.length > 0) {\n                isTopList.sort(new compare(\"lastTime_stamp\").maxToMin());\n            }\n            if(noTopList.length > 0) {\n                noTopList.sort(new compare(\"lastTime_stamp\").maxToMin());\n            }\n            chartList = isTopList.concat(noTopList);\n            setTimeout(() => {\n                this.chartList = chartList;\n            }, 10);\n        },\n\n        imgError(item, index) {\n            item.headImg = this.defaultHead;\n            this.$set(this.chartList, index, item);\n        },\n\n        touchStart(e, index, item) {\n            let changedTouches = e.changedTouches || e.mp.changedTouches || [];\n            if(!e || !changedTouches[0]) return;\n\n            TouchMove.startClientX = changedTouches[0].clientX || 0;\n            TouchMove.startClientY = changedTouches[0].clientY || 0;\n        },\n\n        touchEnd(e, index, item) {\n            let changedTouches = e.changedTouches || e.mp.changedTouches || [];\n            if(item.messageId == this.ImChart.getServiceId()) return;\n\n            TouchMove.endClientX = changedTouches[0].clientX || 0;\n            TouchMove.endClientY = changedTouches[0].clientY || 0;\n            TouchMove.index = index;\n            TouchMove.page = this;\n            TouchMove.init();\n        },\n\n        // 屏蔽/解除\n        blockMsg(item, index) {\n            this.ImChart.blockMsg(item.messageId, !(item.isShield == 1));\n        },\n\n        // 删除消息\n        delMsg(item, index) {\n            this.ImChart.DeleteMsg(item.messageId);\n        },\n\n        // 更新置顶\n        upTopStatus(item, index) {\n            new DealChartListModel(item.messageId).upTopStatus(\n                !item.isTop || item.isTop == 2 ? 1 : 2\n            );\n        },\n\n        // 查看详情\n        getChartDetail(item, index) {\n            item.unRead = 0;\n            UpUnReadNumTab.removeReadNum(item.messageId);\n            uni.navigateTo({\n                url: \"/pagesMsg/msgDetail/msgDetail?messageId=\"+item.messageId\n                    + \"&name=\" + (item.name || \"\")\n            });\n        },\n\n        // 更新列表回调\n        UpChartListChanged() {\n            this.initData();\n            this.initSystemMsg();\n        },\n\n        ImLinkSuccessChange() {\n            this.initSystemMsg();\n        },\n        // 初始化系统消息\n        initSystemMsg() {\n            if (!this.ImChart.imChartVal) return;\n\n            this.ImChart.getHistoryOriginal(ProjectConfigConst.systemMsgMessageId)\n                .then(res => {\n                    console.log(\"系统消息\", res);\n                    let msgs = res ? res.msgs || [] : [];\n                    let systemMsgItem = this.systemMsgItem;\n                    if (msgs.length === 0) {\n                        systemMsgItem.lastTime = formatTimeNew(new Date().getTime());\n                        systemMsgItem.msg = \"暂无消息\";\n                        this.systemMsgItem = systemMsgItem;\n                        return;\n                    }\n\n                    this.systemMsgItem.unRead = UpUnReadNumTab.getUnReadNum(ProjectConfigConst.systemMsgMessageId) || 0;\n                    msgs = msgs.sort(new compare(\"time\").maxToMin());\n                    let content = JSON.parse(msgs[0].content);\n                    let data = content.data || {};\n                    systemMsgItem.msg = data.CONTENT || \"暂无消息\";\n                    systemMsgItem.lastTime = formatTimeNew(msgs[0].time || new Date().getTime());\n                    this.systemMsgItem = systemMsgItem;\n                });\n        },\n\n        // 查看系统消息\n        goToSystemDetail() {\n            this.systemMsgItem.unRead = 0;\n            UpUnReadNumTab.removeReadNum(ProjectConfigConst.systemMsgMessageId);\n            uni.navigateTo({\n                url: \"/pagesMsg/systemMsg/systemMsg\"\n            });\n        }\n    }\n}\n","import mod from \"-!../../../../软件/老版本HBuilderX/工具/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../软件/老版本HBuilderX/工具/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../软件/老版本HBuilderX/工具/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../软件/老版本HBuilderX/工具/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../软件/老版本HBuilderX/工具/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../软件/老版本HBuilderX/工具/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../软件/老版本HBuilderX/工具/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./msgList.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../软件/老版本HBuilderX/工具/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../软件/老版本HBuilderX/工具/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../软件/老版本HBuilderX/工具/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../软件/老版本HBuilderX/工具/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../软件/老版本HBuilderX/工具/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../软件/老版本HBuilderX/工具/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../软件/老版本HBuilderX/工具/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./msgList.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}