{"version":3,"sources":["webpack:///D:/小黑项目/yx_uniapp/main.js","webpack:///D:/小黑项目/yx_uniapp/pagesMsg/msgDetail/msgDetail.vue?b7df","webpack:///D:/小黑项目/yx_uniapp/pagesMsg/msgDetail/msgDetail.vue?0b1f","webpack:///D:/小黑项目/yx_uniapp/pagesMsg/msgDetail/msgDetail.vue?b729","webpack:///D:/小黑项目/yx_uniapp/pagesMsg/msgDetail/msgDetail.vue?2f71","webpack:///D:/小黑项目/yx_uniapp/pagesMsg/msgDetail/msgDetail.vue","webpack:///D:/小黑项目/yx_uniapp/pagesMsg/msgDetail/msgDetail.vue?8169","webpack:///D:/小黑项目/yx_uniapp/pagesMsg/msgDetail/msgDetail.vue?686f"],"names":["createPage","Page","privateData","page","pageScrollTimeOutVal","imgList","caseId","cityId","caseType","reSource","params","ImEvaluateDeal","videoPlayerVal","haveMoreData","innerAudioContext","uni","createInnerAudioContext","data","deptName","receiveTypes","img","voice","entrust","position","houseLiaoKe","video","meTypes","house","houseWuYe","currentClickIndex","sendInputBottom","serviceId","ImChart","getServiceId","accid","scrollLoading","messageId","titleText","isShield","chartList","meHeadeImg","Const","imDefaultHeadImg","otherHeadImg","platformIcon","emptyViewHeight","serviceLinkShow","serviceLinkArr","showSendHouseLinkView","sendHouseLinkItem","ChartDetailItem","agentInfoItem","showBackIndex","couponId","showCouponTc","couponInfo","noClickBackIndex","recomendHouseList","isMoreSendInfo","autoSendLiskStatus","evaluateViewShow","videoTcShow","videoSrc","videoFirstImg","servicePhone","isScrollIng","isIphoneX","scrollIntoView","components","imgReceiveView","textReceiveView","voiceReceiveView","positionReceiveView","videoReceiveView","textMeView","voiceMeView","imgMeView","videoMeView","positionMeView","headView","sendMsg","showModal","onLoad","getSystemInfoSync","model","indexOf","initDeptName","initParams","initImChart","inChartDetail","Notification","addObserver","Notify","ImLinkSuccessChange","Name","UserInfoChanged","MsgReadChanged","UpChartMsgChanged","MsgSendSuccessChange","ClickChartMoreInfo","onShow","onHide","voicePlayChange","isPlayIng","onUnload","removeObserverAllNotification","onNavigationBarButtonTap","e","id","DifferenceApi","showToast","$refs","modal","show","methods","GetLoginModel","getAccountSource","toString","UserDeptName","userId","replace","isBroker","send","then","res","errCode","success","GetBrokerContactInfo","archiveId","DATA","goBack","navigateBack","delta","onModalChanged","val","makePhoneCall","videoPlayChange","item","pause","stop","destroy","index","src","url","play","onError","onStop","onEnded","lookMaxImgChange","lookImgMax","content","imChartVal","initData","name","time","timeStr","undefined","isRead","OnMoreSendChanged","onInputFocus","info","initImUserInfo","UserInfoModel","getModel","setUuAccid","setModel","privateKeys","map","key","callback","initChartDetail","GetUserMobile","imId","userMobile","getUser","account","sync","done","error","user","avatar","Utils","dealImgSrcSize","ConsultantListModel","getHistory","Date","getTime","list","getUserPhoto","getUserId","listModel","ChatListModel","obj","upImgList","setTimeout","scrollToBottom","scrollClick","postNotification","ClickChartDetailScroll","heightMap","more","height","upx2px","emoji","normal","type","value","disabledScroll","clearTimeout","push","previewImage","current","urls","indicator","clickChartDetail","mySend","i","length","JSON","parse","msg","locationImageUrl","staticImg","isSendUser","sendFail","$set","sendTextMsgCommon","text","ImSendMessage","sendText","DealChartDetail","dealEmoji","hasEmoji","showTime","DealLastMsgTime","checkShowTime","setTime","scrolltoupper","firstTimeStr","console","log","concat"],"mappings":";;;;;;;;;;kDAAA,wCAAmB;;AAEnB;AACA,4G;AACAA,UAAU,CAACC,kBAAD,CAAV,C;;;;;;;;;;;;;ACJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAsH;AACtH;AAC6D;AACL;AACa;;;AAGrE;AACsL;AACtL,gBAAgB,uLAAU;AAC1B,EAAE,+EAAM;AACR,EAAE,oFAAM;AACR,EAAE,6FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,wFAAU;AACZ;AACA;;AAEA;AACA,IAAI,KAAU,EAAE,YAiBf;AACD;AACe,gF;;;;;;;;;;;;AC1Cf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACvBA;AAAA;AAAA;AAAA;AAAqsB,CAAgB,qqBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACuGztB;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;AAsBA;;AAEA;;AAEA;AACA;AACA,iF,CAvIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAC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","file":"pagesMsg/msgDetail/msgDetail.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'            \nimport Page from './pagesMsg/msgDetail/msgDetail.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./msgDetail.vue?vue&type=template&id=69ccaf4a&\"\nvar renderjs\nimport script from \"./msgDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./msgDetail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./msgDetail.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../软件/老版本HBuilderX/工具/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\软件\\\\老版本HBuilderX\\\\工具\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('69ccaf4a')) {\n      api.createRecord('69ccaf4a', component.options)\n    } else {\n      api.reload('69ccaf4a', component.options)\n    }\n    module.hot.accept(\"./msgDetail.vue?vue&type=template&id=69ccaf4a&\", function () {\n      api.rerender('69ccaf4a', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"小黑项目/yx_uniapp/pagesMsg/msgDetail/msgDetail.vue\"\nexport default component.exports","export * from \"-!../../../../软件/老版本HBuilderX/工具/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../软件/老版本HBuilderX/工具/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../软件/老版本HBuilderX/工具/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../软件/老版本HBuilderX/工具/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../软件/老版本HBuilderX/工具/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../软件/老版本HBuilderX/工具/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./msgDetail.vue?vue&type=template&id=69ccaf4a&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var a0 = {\n    title: \"拨打电话\",\n    content: _vm.servicePhone,\n    confirmText: \"呼叫\",\n    cancelColor: \"rgba(0,0,0,0.6)\",\n    confirmColor: \"#3396fb\"\n  }\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        a0: a0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../软件/老版本HBuilderX/工具/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../软件/老版本HBuilderX/工具/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../软件/老版本HBuilderX/工具/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../软件/老版本HBuilderX/工具/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../软件/老版本HBuilderX/工具/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./msgDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../软件/老版本HBuilderX/工具/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../软件/老版本HBuilderX/工具/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../软件/老版本HBuilderX/工具/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../软件/老版本HBuilderX/工具/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../软件/老版本HBuilderX/工具/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./msgDetail.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport {UserInfoModel} from \"../../model/UserInfoModel.js\";\nimport {formatTimeNew} from \"../../utils/common.js\";\nimport {DealChartDetail, ChartDetailItem} from \"../../utils/ImChart.js\";\nimport {Notify} from \"../../utils/Notify.js\";\nimport {Notification} from \"../../utils/Notification.js\";\n\n// 接受的组件\nimport imgReceiveView from \"../components/im/receive/imgReceiveView.vue\";\nimport textReceiveView from \"../components/im/receive/textReceiveView.vue\";\nimport voiceReceiveView from \"../components/im/receive/voiceReceiveView.vue\";\nimport positionReceiveView from \"../components/im/receive/positionReceiveView.vue\";\nimport videoReceiveView from \"../components/im/receive/videoReceiveView.vue\";\n\n// me的组件\nimport textMeView from \"../components/im/me/textMeView.vue\";\nimport voiceMeView from \"../components/im/me/voiceMeView.vue\";\nimport imgMeView from \"../components/im/me/imgMeView.vue\";\nimport videoMeView from \"../components/im/me/videoMeView.vue\";\nimport positionMeView from \"../components/im/me/positionMeView.vue\";\n\nimport headView from \"../components/im/headView.vue\";\nimport sendMsg from \"../components/im/sendMsg.vue\";\n\nimport scrollLoading from \"../../components/scrollLoading.vue\";\nimport showModal from \"../../components/showModal.vue\";\n\nimport {Const} from \"../../utils/Const.js\";\nimport {DealLastMsgTime, ImSendMessage} from \"../../utils/ImChart.js\";\nimport {GetBrokerContactInfo, GetUserMobile, UserDeptName} from \"../../net/MsgNet\";\n\nimport {ConsultantListModel, GetLoginModel} from \"../../model/LoginSuccessModel\";\nimport {Utils} from \"../../utils/Utils\";\nimport {ChatListModel} from \"../../model/im/ChatListModel\";\n\nlet privateData = {\n    page: null,\n\n    pageScrollTimeOutVal: null,\n    imgList: [],\n    caseId: \"\",\n    cityId: \"\",\n    caseType: \"\",\n    reSource: \"\",\n\n    params: {}, // url参数\n    ImEvaluateDeal: null, // 聊天评价\n\n    videoPlayerVal: null,\n    haveMoreData: true\n};\n// 语音播放管理\nlet innerAudioContext = uni.createInnerAudioContext();\n\nexport default {\n    data() {\n        return {\n            deptName: \"\",\n            receiveTypes: {\n                img: true,\n                voice: true,\n                entrust: true,\n                position: true,\n                houseLiaoKe: true,\n                video: true\n            },\n            meTypes: {\n                img: true,\n                voice: true,\n                house: true,\n                video: true,\n                houseWuYe: true,\n            },\n            currentClickIndex: \"err\",\n\n            sendInputBottom: 0,\n\n            serviceId: this.ImChart.getServiceId(),\n            accid: \"\",\n            scrollLoading: true,\n            messageId: \"\", // 经纪人id\n            titleText: \"\",\n            isShield: 0, // 是否是屏蔽 1:屏蔽\n            chartList: [], // 聊天内容\n            meHeadeImg: Const.imDefaultHeadImg,\n            otherHeadImg: Const.platformIcon,\n            emptyViewHeight: \"51px\",\n            serviceLinkShow: false, // 是否显示客服连接\n            serviceLinkArr: [], // 客服问题数组\n            showSendHouseLinkView: false, // 是否显示发送房源连接的view\n            sendHouseLinkItem: new ChartDetailItem(),\n\n            agentInfoItem: {}, //  经纪人信息\n            showBackIndex: false, // 回到首页\n\n            couponId: \"\", // 优惠券id\n            showCouponTc: false, // 是否显示优惠券弹窗\n            couponInfo: {}, // 优惠券信息\n            noClickBackIndex: null, // 3s没操作返回到首页\n\n            recomendHouseList: [], // 经纪人推送的房源列表\n            isMoreSendInfo: false, // 是否是展示更多\n\n            autoSendLiskStatus: 1, // 自动发送房源状态吗  不等1都自动发\n\n            evaluateViewShow: false, // 是否显示聊天评价弹窗\n\n            // 视频播放相关参数\n            videoTcShow: false,\n            videoSrc: \"\",\n            videoFirstImg: \"\",\n\n            // 经纪人电话\n            servicePhone: \"\",\n\n            haveMoreData: true,\n            isScrollIng: false,\n            isIphoneX: false,\n            scrollIntoView: \"\"\n        }\n    },\n\n    components: {\n        imgReceiveView,\n        textReceiveView,\n        voiceReceiveView,\n        positionReceiveView,\n        videoReceiveView,\n\n        textMeView,\n        voiceMeView,\n        imgMeView,\n        videoMeView,\n        positionMeView,\n\n        headView,\n        sendMsg,\n\n        scrollLoading,\n        showModal\n    },\n\n    onLoad(params) {\n        if (uni.getSystemInfoSync().model.indexOf(\"iPhone X\") >= 0) {\n            this.isIphoneX = true;\n        }\n\n        this.initDeptName(params);\n        privateData.page = this;\n        this.initParams(params);\n        this.ImChart.messageId = params.messageId || \"\";\n        this.initImChart();\n        this.ImChart.inChartDetail = true;\n        new Notification().addObserver(this, \"ImLinkSuccessChange\", Notify.ImLinkSuccessChange.Name);\n        // 监听用户信息事件\n        new Notification().addObserver(this, \"UserInfoChanged\", Notify.UserInfoChanged.Name);\n        // 监听已读回执\n        new Notification().addObserver(this, \"MsgReadChanged\", Notify.MsgReadChanged.Name);\n        // 监听消息\n        new Notification().addObserver(this, \"UpChartMsgChanged\", Notify.UpChartMsgChanged.Name);\n        // 监听消息发送成功\n        new Notification().addObserver(this, \"MsgSendSuccessChange\", Notify.MsgSendSuccessChange.Name);\n        // 监听发送点击\n        new Notification().addObserver(this, \"ClickChartMoreInfo\", Notify.ClickChartMoreInfo.Name);\n    },\n\n    onShow() {\n       this.ImChart.inChartDetail = true;\n    },\n\n    onHide() {\n        this.voicePlayChange({isPlayIng: true});\n        this.ImChart.inChartDetail = false;\n    },\n\n    onUnload() {\n        this.voicePlayChange({isPlayIng: true});\n        // 反注册通知\n        new Notification().removeObserverAllNotification(this);\n        this.ImChart.inChartDetail = false;\n        this.ImChart.messageId = \"\";\n    },\n\n    // 原生按钮点击事件\n    onNavigationBarButtonTap(e) {\n        if (!e.id) return;\n\n        if (e.id !== \"telephone\") return;\n\n        if(!this.servicePhone) {\n            this.DifferenceApi.showToast(\"暂无电话\");\n            return;\n        }\n\n        this.$refs.modal.show();\n    },\n\n    methods: {\n        // 初始化门店信息\n        initDeptName(params) {\n            if (!params.messageId || GetLoginModel.getAccountSource() == 2) return;\n\n            let messageId = params.messageId.toString();\n            if (messageId.indexOf(\"ld_\") >= 0) {\n                new UserDeptName({\n                    userId: messageId.replace(\"ld_\",\"\"),\n                    isBroker: messageId.indexOf(\"ld_\") >= 0 ? 0 : 1\n                }).send().then(res => {\n                    if (res.errCode === Const.success) {\n                        this.deptName = res.data ? res.data.deptName || \"\" : \"\";\n                    }\n                });\n                return;\n            }\n\n            new GetBrokerContactInfo({archiveId: messageId.replace(\"ld_\",\"\")}).send()\n                .then(res => {\n                    this.deptName = res.DATA ? res.DATA.deptName || \"\" : \"\";\n                });\n        },\n\n        // 返回\n        goBack() {\n            uni.navigateBack({\n                delta: 1\n            });\n        },\n\n        // 拨打电话\n        onModalChanged(val) {\n            if(val) {\n                this.DifferenceApi.makePhoneCall(this.servicePhone)\n            }\n        },\n\n        // 视频播放回调\n        videoPlayChange(item) {\n            // this.videoSrc = item.url;\n            // this.videoFirstImg = item.videoFirstImg;\n            // this.videoTcShow = true;\n            // let videoValue = uni.createVideoContext('myVideo');\n            // videoValue.hideStatusBar();\n            // videoValue.requestFullScreen({direction: 0});\n            // videoValue.play();\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n        },\n\n        // 语音播放回调\n        voicePlayChange(item) {\n            if(item.isPlayIng) {\n                this.currentClickIndex = \"err\";\n                if(innerAudioContext && innerAudioContext.pause) {\n                    innerAudioContext.pause();\n                }\n                if(innerAudioContext && innerAudioContext.stop) {\n                    innerAudioContext.stop();\n                }\n                if(innerAudioContext && innerAudioContext.destroy) {\n                    innerAudioContext.destroy();\n                }\n                return;\n            }\n\n            innerAudioContext = uni.createInnerAudioContext();\n            this.currentClickIndex = item.index;\n            innerAudioContext.src = item.url;\n            innerAudioContext.play();\n            innerAudioContext.onError((res) => {\n                this.currentClickIndex = \"err\";\n            });\n            innerAudioContext.onStop(res => {\n                this.currentClickIndex = \"err\";\n            });\n            innerAudioContext.onEnded((res) => {\n                this.currentClickIndex = \"err\";\n            });\n        },\n\n        // 查看大图回调\n        lookMaxImgChange(item) {\n            this.lookImgMax(item.content);\n        },\n\n        // 初始化消息\n        initImChart() {\n            if (this.ImChart.imChartVal) {\n                this.initData(() => {\n                    this.scrollLoading = false;\n                });\n            }\n        },\n        // IM连接成功回调\n        ImLinkSuccessChange() {\n            this.initImChart();\n        },\n\n        // 已读回执\n        MsgReadChanged(name, time) {\n            let chartList = this.chartList || [];\n            for (let item of chartList) {\n                if (item.timeStr != undefined && item.timeStr <= time) {\n                    item.isRead = true;\n                }\n            }\n            this.chartList = chartList;\n        },\n\n        // 更多切换回调\n        OnMoreSendChanged(val) {\n            this.isMoreSendInfo = val;\n        },\n        // input 聚焦/失焦\n        onInputFocus(info) {\n            // this.sendInputBottom = info.height;\n        },\n\n        // 用户消息回调\n        UserInfoChanged() {\n            this.ImChart.initImUserInfo()\n                .then(() => {\n                    this.initData();\n                    this.scrollLoading = false;\n                });\n            this.ImChart.inChartDetail = true;\n        },\n\n        // 初始化参数\n        initParams(params = {}) {\n            privateData.params = params;\n            if (params.name) {\n                this.titleText = params.name;\n            }\n            if (params.messageId) {\n                this.messageId = params.messageId;\n                this.ImChart.messageId = params.messageId;\n            }\n            if (params.isShield != undefined) {\n                this.isShield = params.isShield;\n            }\n            if (new UserInfoModel().getModel(\"accid\")) {\n                this.accid = new UserInfoModel().getModel(\"accid\");\n                this.ImChart.setUuAccid(this.accid);\n            }\n            if (params.accid) {\n                this.accid = params.accid;\n                new UserInfoModel().setModel(params.accid, \"accid\");\n                this.ImChart.setUuAccid(params.accid);\n            }\n            if (params.couponId) {\n                this.couponId = params.couponId;\n            }\n            let privateKeys = [\"caseId\", \"cityId\", \"caseType\", \"reSource\"];\n            privateKeys.map((key) => {\n                privateData[key] = params[key] || \"\";\n            });\n            if(!privateData.reSource) {\n                privateData.reSource = \"1\";\n            }\n        },\n\n        initData(callback = function () {}) {\n            this.initChartDetail((res) => callback(res));\n            new GetUserMobile({imId: this.messageId}).send()\n                .then(res => {\n                    if(res.errCode !== Const.success || !res.data) return;\n\n                    this.servicePhone = res.data.userMobile || \"\";\n                });\n        },\n\n        initChartDetail(callback = function () {}) {\n            // 获取用户信息\n            this.ImChart.imChartVal.getUser({\n                account: this.messageId,\n                sync: true,\n                done: (error, user) => {\n                    let otherHeadImg = Const.imDefaultHeadImg;\n                    if (user && user.avatar) {\n                        otherHeadImg = new Utils().dealImgSrcSize(user.avatar, 80, 80);\n                    }\n                    if(new ConsultantListModel().getModel()\n                        && new ConsultantListModel().getModel()[this.messageId]\n                        && new ConsultantListModel().getModel()[this.messageId].avatar) {\n                        otherHeadImg = new Utils().dealImgSrcSize(\n                            new ConsultantListModel().getModel()[this.messageId].avatar,\n                            80,\n                            80\n                        );\n                    }\n                    this.otherHeadImg = otherHeadImg;\n                }\n            });\n            this.ImChart.getHistory(this.messageId, new Date().getTime() + 10000, 10,\n                (res) => {\n                    this.chartList = res.list || [];\n                    callback(res);\n                    privateData.haveMoreData = res.haveMoreData || false;\n                    this.meHeadeImg = GetLoginModel.getUserPhoto()\n                        ? new Utils().dealImgSrcSize(GetLoginModel.getUserPhoto(), 80, 80)\n                        : Const.imDefaultHeadImg;\n                    if(res.name) {\n                        this.titleText = res.name;\n                    }\n                    let userId = GetLoginModel.getUserId() || \"\";\n                    let listModel = new ChatListModel().getModel() || {};\n                    let map = listModel[userId] || {};\n                    let obj = map[this.messageId] || {};\n                    obj.name = this.titleText || res.name || obj.name || \"\";\n                    map[this.messageId] = obj;\n                    listModel[userId] = map;\n                    new ChatListModel().setModel(listModel);\n                    this.upImgList();\n                    setTimeout(() => {\n                        this.scrollToBottom();\n                    }, 500);\n                }\n            );\n        },\n\n        // 点击滑动区域隐藏更多展示\n        scrollClick() {\n            this.isMoreSendInfo = true;\n            new Notification().postNotification(Notify.ClickChartDetailScroll.Name);\n        },\n\n        // 点击底部按钮的回调\n        ClickChartMoreInfo(name, info = {}) {\n            let heightMap = {\n                more: {\n                    height: uni.upx2px(340)\n                },\n                emoji: {\n                    height: uni.upx2px(540)\n                },\n                normal: {\n                    height: uni.upx2px(110)\n                }\n            };\n            let height = heightMap[info.type] && heightMap[info.type].height\n                ? heightMap[info.type].height+\"px\"\n                : heightMap.normal.height+\"px\";\n            if(!info.value) {\n                height = heightMap.normal.height+\"px\";\n            }\n            this.emptyViewHeight = height;\n            if (!info.disabledScroll) {\n                this.scrollToBottom();\n            }\n        },\n\n        // 滚动到底部\n        scrollToBottom() {\n            clearTimeout(privateData.pageScrollTimeOutVal);\n            privateData.pageScrollTimeOutVal = null;\n            this.scrollIntoView = \"\";\n            privateData.pageScrollTimeOutVal = setTimeout(() => {\n                this.scrollIntoView = \"scrollIntoId\";\n            }, 300);\n        },\n\n        // 聊天内的图片资源\n        upImgList() {\n            privateData.imgList = [];\n            for (let item of this.chartList) {\n                if (item.type == 'img') {\n                    privateData.imgList.push(item.content);\n                }\n            }\n        },\n        lookImgMax(url = \"\") {\n            uni.previewImage({\n                current: url,\n                urls: privateData.imgList,\n                indicator: \"number\"\n            });\n        },\n        clickChartDetail(item) {\n            if (item.type == 'img') {\n                this.lookImgMax(item.content);\n            }\n        },\n\n        // 新消息回调\n        UpChartMsgChanged(name, item) {\n            // console.error(\"UpChartMsgChanged\", item);\n            if (item) {\n                if (item.type === \"house\" && item.mySend) {\n                    this.showSendHouseLinkView = false;\n                }\n                this.chartList.push(item);\n                this.upImgList();\n                this.scrollToBottom();\n            }\n        },\n        // 消息发送成功回调\n        MsgSendSuccessChange(name, info) {\n            for (let i = 0;i<this.chartList.length;i++) {\n                let item = this.chartList[i] || {};\n                if (info.type && info.type === \"position\") {\n                    let content = JSON.parse(info.msg.content);\n                    if (content.data.locationImageUrl === item.content.staticImg) {\n                        item.isSendUser = false;\n                        item.msg = info.msg || {};\n                        item.sendFail = item.sendFail || false;\n                        this.$set(this.chartList, i, item);\n                        break;\n                    }\n                }\n\n                if (info.url === item.content) {\n                    item.isSendUser = false;\n                    item.msg = info.msg || {};\n                    item.sendFail = item.sendFail || false;\n                    this.$set(this.chartList, i, item);\n                    break;\n                }\n            }\n        },\n\n        // 发送文本消息\n        sendTextMsgCommon(text, callback = function() {}) {\n            new ImSendMessage(this.messageId).sendText(text)\n                .then(() => {\n                    let emoji = new DealChartDetail().dealEmoji(text);\n                    let item = new ChartDetailItem();\n                    item.type = \"text\";\n                    item.content = text;\n                    item.mySend = true;\n                    item.time = formatTimeNew(new Date().getTime());\n                    item.emoji = emoji;\n                    item.hasEmoji = (emoji[1].length > 0);\n                    this.chartList.push(item);\n                    item.showTime = DealLastMsgTime.checkShowTime(this.messageId, new Date().getTime());\n                    DealLastMsgTime.setTime(new Date().getTime(), this.messageId);\n                    this.scrollToBottom();\n                    callback(item);\n                });\n        },\n\n        // 触顶\n        scrolltoupper() {\n            if(!privateData.haveMoreData || this.isScrollIng) return;\n\n            this.isScrollIng = true;\n            let chartList = this.chartList || [];\n            let firstTimeStr = chartList.length > 0\n                ? chartList[0].timeStr || new Date().getTime() : new Date().getTime();\n            this.ImChart.getHistory(this.messageId, firstTimeStr, 10, (res) => {\n                console.log(res,\"getHistory\");\n                this.isScrollIng = false;\n                this.haveMoreData = res.haveMoreData || false;\n                this.chartList = (res.list || []).concat(chartList);\n                this.upImgList();\n            })\n        },\n    },\n}\n","import mod from \"-!../../../../软件/老版本HBuilderX/工具/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../软件/老版本HBuilderX/工具/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../软件/老版本HBuilderX/工具/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../软件/老版本HBuilderX/工具/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../软件/老版本HBuilderX/工具/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../软件/老版本HBuilderX/工具/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../软件/老版本HBuilderX/工具/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./msgDetail.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../软件/老版本HBuilderX/工具/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../软件/老版本HBuilderX/工具/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../软件/老版本HBuilderX/工具/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../软件/老版本HBuilderX/工具/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../软件/老版本HBuilderX/工具/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../软件/老版本HBuilderX/工具/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../软件/老版本HBuilderX/工具/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./msgDetail.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}